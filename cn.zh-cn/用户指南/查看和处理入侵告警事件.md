# 查看和处理入侵告警事件<a name="hss_01_0026"></a>

企业主机安全可对您已开启的告警防御能力提供总览数据，帮助您快速了解安全告警概况包括存在告警的服务器、待处理告警事件、未处理告警事件、已拦截IP和已隔离文件。

事件管理列表仅保留近30天内发生的告警事件，您可以根据自己的业务需求，自行判断并处理告警，快速清除资产中的安全威胁。

告警事件处理完成后，告警事件将从“未处理“状态转化为“已处理“。

## 约束与限制<a name="section7221597183"></a>

-   若不需要检测高危命令执行、提权操作、反弹Shell、异常Shell或者网站后门，您可以通过“策略管理“页面手动关闭指定策略的检测。关闭检测后，HSS不对策略组关联的服务器进行检测，详细信息请参见[查看和创建策略组](https://support.huaweicloud.com/usermanual-hss/hss_01_0045.html)。
-   其他检测项不允许手动关闭检测。

## 查看告警事件<a name="section72111045132010"></a>

1.  [登录管理控制台](https://console.huaweicloud.com)。
2.  在页面左上角选择“区域“，单击![](figures/icon-servicelist.png)，选择“安全  \>  企业主机安全“，进入企业主机安全页面。

    **图 1**  企业主机安全<a name="hss_01_0229_fig1855613765114"></a>  
    ![](figures/企业主机安全.png "企业主机安全")

3.  在左侧导航栏中，单击“入侵检测  \>  事件管理“，进入“事件管理“页面，如[图2](#fig185501215162916)所示。

    **图 2**  事件管理<a name="fig185501215162916"></a>  
    ![](figures/事件管理.png "事件管理")

    **表 1**  安全告警事件列表说明

    <a name="table185876181727"></a>
    <table><thead align="left"><tr id="row1258817180217"><th class="cellrowborder" valign="top" width="19.08%" id="mcps1.2.3.1.1"><p id="p16588161815210"><a name="p16588161815210"></a><a name="p16588161815210"></a>告警事件状态</p>
    </th>
    <th class="cellrowborder" valign="top" width="80.92%" id="mcps1.2.3.1.2"><p id="p958861819213"><a name="p958861819213"></a><a name="p958861819213"></a>告警事件状态说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row158819182218"><td class="cellrowborder" valign="top" width="19.08%" headers="mcps1.2.3.1.1 "><p id="p658817181029"><a name="p658817181029"></a><a name="p658817181029"></a>存在告警的服务器</p>
    </td>
    <td class="cellrowborder" valign="top" width="80.92%" headers="mcps1.2.3.1.2 "><p id="p158819181929"><a name="p158819181929"></a><a name="p158819181929"></a>展示存在告警的服务器数量。</p>
    </td>
    </tr>
    <tr id="row195881118921"><td class="cellrowborder" valign="top" width="19.08%" headers="mcps1.2.3.1.1 "><p id="p18588191819211"><a name="p18588191819211"></a><a name="p18588191819211"></a>待处理告警事件</p>
    </td>
    <td class="cellrowborder" valign="top" width="80.92%" headers="mcps1.2.3.1.2 "><p id="p1058871813211"><a name="p1058871813211"></a><a name="p1058871813211"></a>展示您资产中所有待处理告警的数量。</p>
    <p id="p213174416312"><a name="p213174416312"></a><a name="p213174416312"></a>安全告警处理页面默认展示所有待处理告警信息，更多详细内容请参见<a href="#section159075873211">处理告警事件</a>。</p>
    </td>
    </tr>
    <tr id="row125883181627"><td class="cellrowborder" valign="top" width="19.08%" headers="mcps1.2.3.1.1 "><p id="p05885181228"><a name="p05885181228"></a><a name="p05885181228"></a>已处理告警事件</p>
    </td>
    <td class="cellrowborder" valign="top" width="80.92%" headers="mcps1.2.3.1.2 "><p id="p175880189210"><a name="p175880189210"></a><a name="p175880189210"></a>展示您资产中所有已处理的告警事件数量。</p>
    </td>
    </tr>
    <tr id="row42871218311"><td class="cellrowborder" valign="top" width="19.08%" headers="mcps1.2.3.1.1 "><p id="p1028862533"><a name="p1028862533"></a><a name="p1028862533"></a>已拦截IP</p>
    </td>
    <td class="cellrowborder" valign="top" width="80.92%" headers="mcps1.2.3.1.2 "><p id="p89448319411"><a name="p89448319411"></a><a name="p89448319411"></a>展示已拦截的IP。单击已拦截IP的数量，可查看已拦截的IP地址列表。</p>
    <p id="p02881821539"><a name="p02881821539"></a><a name="p02881821539"></a>如果您发现有合法IP被误封禁（比如运维人员因为记错密码，多次输错密码导致被封禁），可以手工解除拦截。如果发现某个主机被频繁攻击，需要引起重视，建议及时修补漏洞，处理风险项。</p>
    <div class="notice" id="note106951035202915"><a name="note106951035202915"></a><a name="note106951035202915"></a><span class="noticetitle"> 须知： </span><div class="noticebody"><p id="p189311725112711"><a name="p189311725112711"></a><a name="p189311725112711"></a>解除被拦截的IP后，主机将不会再拦截该IP地址对主机执行的操作。</p>
    </div></div>
    </td>
    </tr>
    <tr id="row36761916637"><td class="cellrowborder" valign="top" width="19.08%" headers="mcps1.2.3.1.1 "><p id="p1067616161131"><a name="p1067616161131"></a><a name="p1067616161131"></a>已隔离文件</p>
    </td>
    <td class="cellrowborder" valign="top" width="80.92%" headers="mcps1.2.3.1.2 "><p id="p15536140963"><a name="p15536140963"></a><a name="p15536140963"></a>企业主机安全可对检测到的威胁文件进行隔离处理，被成功隔离的文件会添加到<span class="parmvalue" id="parmvalue1536180261"><a name="parmvalue1536180261"></a><a name="parmvalue1536180261"></a>“事件管理”</span>的<span class="parmvalue" id="parmvalue105363010613"><a name="parmvalue105363010613"></a><a name="parmvalue105363010613"></a>“文件隔离箱”</span>中。</p>
    <p id="p36769161313"><a name="p36769161313"></a><a name="p36769161313"></a>被成功隔离的文件一直保留在文件隔离箱中，您可以根据自己的需要进行一键恢复处理，关于文件隔离箱的详细信息，请参见<a href="管理文件隔离箱.md">管理文件隔离箱</a>。</p>
    </td>
    </tr>
    </tbody>
    </table>

4.  单击告警事件列表中的告警事件，可查看告警事件对应的受影响的服务器、发生时间等信息，如[图3](#fig137821712458)所示。

    -   全部：展示发生的总的告警数。
    -   告警事件：展示各告警事件发生的告警数。

    **图 3**  安全告警事件<a name="fig137821712458"></a>  
    ![](figures/安全告警事件.png "安全告警事件")

5.  单击告警列表中的告警名称，可查看告警的详细信息，如[图4](#fig192869424504)所示。

    **图 4**  告警详细信息<a name="fig192869424504"></a>  
    ![](figures/告警详细信息.png "告警详细信息")


## 处理告警事件<a name="section159075873211"></a>

当发生安全告警事件后，为了保障您的云服务器安全，可以根据以下方式处理安全告警事件。

>![](public_sys-resources/icon-note.gif) **说明：** 
>由于网络攻击手段、病毒样本在不断演变，实际的业务环境也有不同差异，因此，无法保证能实时检测防御所有的未知威胁，建议您基于安全告警处理、漏洞、基线检查等安全能力，提升整体安全防线，预防黑客入侵、盗取或破坏业务数据。

1.  [登录管理控制台](https://console.huaweicloud.com)。
2.  在页面左上角选择“区域“，单击![](figures/icon-servicelist.png)，选择“安全  \>  企业主机安全“，进入企业主机安全页面。

    **图 5**  企业主机安全<a name="hss_01_0229_fig1855613765114_1"></a>  
    ![](figures/企业主机安全.png "企业主机安全")

3.  在左侧导航栏，单击“入侵检测  \>  事件管理“，进入事件管理页面。

    **图 6**  事件管理<a name="fig3881528133911"></a>  
    ![](figures/事件管理.png "事件管理")

4.  单击告警列表中的告警事件，勾选待处理的告警事件，单击“批量处理“，处理告警事件，如[图7](#fig2567205514581)所示，处理方式如[表2](#table12568105515583)所示。

    >![](public_sys-resources/icon-note.gif) **说明：** 
    >您也可以单击告警名称所在行的“处理“，处理告警。

    **图 7**  处理告警事件<a name="fig2567205514581"></a>  
    ![](figures/处理告警事件.png "处理告警事件")

    告警事件展示在“事件管理“页面中，事件管理列表仅展示最近30天的告警事件。

    您需要根据自己的业务需求，自行判断并处理告警。告警事件处理完成后，告警事件将从“未处理“状态变更为“已处理“。HSS将不再对已处理的事件进行统计，并且不在“总览“页展示。

    **表 2**  处理告警事件

    <a name="table12568105515583"></a>
    <table><thead align="left"><tr id="row2567755115818"><th class="cellrowborder" valign="top" width="14.46%" id="mcps1.2.3.1.1"><p id="p95671553584"><a name="p95671553584"></a><a name="p95671553584"></a>处理方式</p>
    </th>
    <th class="cellrowborder" valign="top" width="85.54%" id="mcps1.2.3.1.2"><p id="p95671555581"><a name="p95671555581"></a><a name="p95671555581"></a>处理方式说明</p>
    </th>
    </tr>
    </thead>
    <tbody><tr id="row6567195515812"><td class="cellrowborder" valign="top" width="14.46%" headers="mcps1.2.3.1.1 "><p id="p13567955185819"><a name="p13567955185819"></a><a name="p13567955185819"></a>忽略</p>
    </td>
    <td class="cellrowborder" valign="top" width="85.54%" headers="mcps1.2.3.1.2 "><p id="p19567955195814"><a name="p19567955195814"></a><a name="p19567955195814"></a>仅忽略本次告警。若再次出现相同的告警信息，HSS会再次告警。</p>
    </td>
    </tr>
    <tr id="row1956735565814"><td class="cellrowborder" valign="top" width="14.46%" headers="mcps1.2.3.1.1 "><p id="p155676556584"><a name="p155676556584"></a><a name="p155676556584"></a>隔离查杀</p>
    </td>
    <td class="cellrowborder" valign="top" width="85.54%" headers="mcps1.2.3.1.2 "><p id="p1256725555814"><a name="p1256725555814"></a><a name="p1256725555814"></a>选择隔离查杀后，该程序无法执行<span class="parmvalue" id="parmvalue165679558586"><a name="parmvalue165679558586"></a><a name="parmvalue165679558586"></a>“读/写”</span>操作，同时该程序的进程将被立即终止。HSS将程序或者进程的源文件加入文件隔离箱，被隔离的文件不会对主机造成威胁。</p>
    <p id="p466618189174"><a name="p466618189174"></a><a name="p466618189174"></a>您可以单击<span class="uicontrol" id="uicontrol5449111417253"><a name="uicontrol5449111417253"></a><a name="uicontrol5449111417253"></a>“文件隔离箱”</span>，查看已隔离的文件，详细信息请参见<a href="管理文件隔离箱.md">管理文件隔离箱</a>。</p>
    <p id="p1276941511109"><a name="p1276941511109"></a><a name="p1276941511109"></a>有以下两类告警事件支持线上隔离查杀。</p>
    <a name="ul12966426119"></a><a name="ul12966426119"></a><ul id="ul12966426119"><li>恶意程序（云查杀）</li><li>进程异常检测</li></ul>
    <div class="note" id="note1956719558587"><a name="note1956719558587"></a><a name="note1956719558587"></a><span class="notetitle"> 说明： </span><div class="notebody"><p id="p9620461496"><a name="p9620461496"></a><a name="p9620461496"></a>程序被隔离查杀时，该程序的进程将被立即终止，为避免影响业务，请及时确认检测结果，若隔离查杀有误报，您可以执行取消隔离/忽略操作。</p>
    </div></div>
    </td>
    </tr>
    <tr id="row956885515586"><td class="cellrowborder" valign="top" width="14.46%" headers="mcps1.2.3.1.1 "><p id="p13567155545814"><a name="p13567155545814"></a><a name="p13567155545814"></a>手动处理</p>
    </td>
    <td class="cellrowborder" valign="top" width="85.54%" headers="mcps1.2.3.1.2 "><p id="p1142161215331"><a name="p1142161215331"></a><a name="p1142161215331"></a>选择手动处理。您可以根据自己的需要为该事件添加<span class="parmvalue" id="parmvalue1774217693414"><a name="parmvalue1774217693414"></a><a name="parmvalue1774217693414"></a>“备注”</span>信息，方便您记录手动处理该告警事件的详细信息。</p>
    </td>
    </tr>
    <tr id="row20568125545812"><td class="cellrowborder" valign="top" width="14.46%" headers="mcps1.2.3.1.1 "><p id="p10568135518587"><a name="p10568135518587"></a><a name="p10568135518587"></a>加入登录白名单</p>
    </td>
    <td class="cellrowborder" valign="top" width="85.54%" headers="mcps1.2.3.1.2 "><p id="p161389212248"><a name="p161389212248"></a><a name="p161389212248"></a>如果确认<span class="parmvalue" id="parmvalue261623272418"><a name="parmvalue261623272418"></a><a name="parmvalue261623272418"></a>“账号暴力破解”</span>和<span class="parmvalue" id="parmvalue49297352248"><a name="parmvalue49297352248"></a><a name="parmvalue49297352248"></a>“账户异常登录”</span>类型的告警事件是误报，且不希望HSS再上报该告警，您可以将本次登录告警事件加入登录白名单。</p>
    <p id="p1049414373813"><a name="p1049414373813"></a><a name="p1049414373813"></a>HSS不会对登录白名单内的登录事件上报告警。加入登录白名单后，若再次出现该登录事件，则HSS不会告警。</p>
    </td>
    </tr>
    <tr id="row9298194618413"><td class="cellrowborder" valign="top" width="14.46%" headers="mcps1.2.3.1.1 "><p id="p4299184615411"><a name="p4299184615411"></a><a name="p4299184615411"></a>加入告警白名单</p>
    </td>
    <td class="cellrowborder" valign="top" width="85.54%" headers="mcps1.2.3.1.2 "><p id="p1329125115394"><a name="p1329125115394"></a><a name="p1329125115394"></a>如果确认以下类型的告警事件是误报，且不希望HSS再上报该告警，您可以将本次告警事件加入告警白名单。</p>
    <p id="p06935753920"><a name="p06935753920"></a><a name="p06935753920"></a>HSS不会对告警白名单内的告警事件上报告警。加入告警白名单后，若再次出现该告警事件，则HSS不会告警。</p>
    <a name="ul19884122922617"></a><a name="ul19884122922617"></a><ul id="ul19884122922617"><li>反弹Shell</li><li>Webshell检测</li><li>进程异常行为检测</li><li>进程提权</li><li>文件提权</li><li>高危命令</li><li>恶意程序</li></ul>
    </td>
    </tr>
    </tbody>
    </table>


